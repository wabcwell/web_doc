# 后台管理系统页面结构

## 概述

本文档管理系统后台采用模块化设计，包含用户认证、文档管理、文件管理、用户管理、系统设置等功能模块。

## 主要功能模块

### 1. 用户认证模块
- **登录页面** (`/admin/login.php`)
  - 用户身份验证
  - 会话管理
  - 错误提示处理

### 2. 管理面板 (`/admin/dashboard.php`)
- **首页统计**
  - 总文档数量统计
  - 总用户数量统计
  - 系统运行状态
- **最近活动**
  - 最近创建的文档列表
  - 最近删除的文档列表
  - 操作时间线

### 3. 文档管理模块 (`/admin/documents/`)

#### 3.1 文档列表 (`index.php`)
- 文档树形结构展示
- 文档搜索和筛选
- 批量操作功能
- 分页显示

#### 3.2 添加文档 (`add.php`)
- 文档标题输入
- 富文本编辑器集成
- 父文档选择
- 排序设置
- 标签管理
- 权限设置（公开/私有）
- 防重复提交机制

#### 3.3 编辑文档 (`edit.php`)
- 文档内容编辑
- 版本控制
- 变更检测
- 历史记录
- 实时保存

#### 3.4 辅助功能
- **查看历史版本** (`view_his.php`)
- **编辑日志** (`edit_log.php`)
- **版本对比**

### 4. 文档回收站 (`/admin/doc_recycle/index.php`)
- 已删除文档列表
- 文档恢复功能
- 永久删除功能
- 操作权限控制
- 分页显示

### 5. 文件管理模块 (`/admin/files/index.php`)
- 文件上传和管理
- 文件分类
- 搜索和筛选
- 分页功能
- 文件操作（下载、删除）

### 6. 用户管理模块 (`/admin/user/`)

#### 6.1 用户列表 (`index.php`)
- 用户信息展示
- 角色管理（管理员/普通用户）
- 用户操作（编辑、删除）
- 权限验证

#### 6.2 添加用户 (`add_user.php`)
- 用户信息录入
- 密码加密存储
- 角色分配

### 7. 系统设置 (`/admin/settings.php`)
- 网站基本信息配置
  - 网站名称
  - 网站副标题
  - 网站URL
- Logo管理
  - 文字Logo
  - 图片Logo上传
- 系统参数设置
  - 最大历史版本数
  - 最大操作记录数
- 配置文件动态更新

## 技术架构

### 前端技术
- **Bootstrap 5.3** - 响应式UI框架
- **Bootstrap Icons** - 图标库
- **UEditorPlus** - 富文本编辑器
- **自定义CSS** - 样式优化

### 后端技术
- **PHP** - 服务器端语言
- **SQLite** - 数据库
- **PDO** - 数据库操作
- **Session** - 会话管理

### 安全特性
- 用户身份验证
- 权限控制
- 防SQL注入
- 防XSS攻击
- 文件上传验证

## 页面结构特点

1. **响应式设计** - 支持桌面和移动设备
2. **模块化布局** - 侧边栏导航 + 主内容区
3. **统一风格** - 一致的UI设计和交互体验
4. **操作反馈** - 实时的成功/错误提示
5. **权限分级** - 管理员和普通用户权限分离

## 数据库结构

主要数据表：
- `users` - 用户信息
- `documents` - 文档数据
- `document_versions` - 文档版本历史
- `edit_logs` - 操作日志
- `files` - 文件信息

## 部署要求

- PHP 7.4+
- SQLite3支持
- 文件上传权限
- Session支持

## 使用说明

1. 通过 `/admin/login.php` 登录系统
2. 根据权限访问相应功能模块
3. 使用侧边栏导航切换不同页面
4. 遵循各页面的操作指引完成文档管理任务

---
*最后更新: 2024年*